{"ast":null,"code":"import _slicedToArray from\"/home/ilkyu/akpl/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectDestructuringEmpty from\"/home/ilkyu/akpl/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import React,{useState}from'react';import axios from'axios';import{IonItem,IonLabel,IonItemDivider,IonText,IonSearchbar,useIonViewWillEnter}from'@ionic/react';var HateCommentsContainer=function HateCommentsContainer(_ref){_objectDestructuringEmpty(_ref);var _useState=useState(),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),busy=_useState4[0],setBusy=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),comments=_useState6[0],setComments=_useState6[1];var _useState7=useState(\"이효리\"),_useState8=_slicedToArray(_useState7,2),keyword=_useState8[0],setKeyword=_useState8[1];useIonViewWillEnter(function(){updateComments(keyword);});var API_URL='http://akpl.ilkyu.kr:8080/find/';var getBgColor=function getBgColor(prob){prob*=100;if(prob<50){return\"secondary\";}else if(prob<60){return\"success\";}else if(prob<70){return\"warning\";}else{return\"danger\";}};var updateComments=function updateComments(keyword){setBusy(true);axios.get(API_URL+keyword+\"/\"+100).then(function(resp){return resp.data;}).then(function(data){setComments(data);});setBusy(false);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(IonItemDivider,null,\"\\uC544\\uB798\\uC5D0 \\uAC80\\uC0C9\\uD560 \\uD0A4\\uC6CC\\uB4DC\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"),/*#__PURE__*/React.createElement(IonSearchbar,{placeholder:\"\\uC774\\uD6A8\\uB9AC\",onIonChange:function onIonChange(e){return updateComments(e.detail.value);}}),comments.map(function(comment,i){return/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{className:\"ion-text-wrap\"},/*#__PURE__*/React.createElement(IonText,{color:getBgColor(comment.prob)},/*#__PURE__*/React.createElement(\"h1\",null,comment.text)),/*#__PURE__*/React.createElement(\"p\",null,\"\\uC791\\uC131\\uC790: \",comment.commenter,\" | \",comment.datetime),/*#__PURE__*/React.createElement(\"p\",null,\"\\uC6D0\\uAE00: \",comment.article_title,\" (\",/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",href:comment.article_url},comment.article_url),\")\")),/*#__PURE__*/React.createElement(IonText,{slot:\"start\",color:getBgColor(comment.prob)},/*#__PURE__*/React.createElement(\"h1\",null,Math.floor(comment.prob*100),\"%\")));}));};export default HateCommentsContainer;","map":{"version":3,"sources":["/home/ilkyu/akpl/src/components/HateCommentsContainer.tsx"],"names":["React","useState","axios","IonItem","IonLabel","IonItemDivider","IonText","IonSearchbar","useIonViewWillEnter","HateCommentsContainer","text","setText","busy","setBusy","comments","setComments","keyword","setKeyword","updateComments","API_URL","getBgColor","prob","get","then","resp","data","e","detail","value","map","comment","i","commenter","datetime","article_title","article_url","Math","floor"],"mappings":"oSAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAA+EC,OAA/E,CAAwFC,QAAxF,CAAwKC,cAAxK,CAAwLC,OAAxL,CAA0MC,YAA1M,CAAwNC,mBAAxN,KAAmP,cAAnP,CAgBA,GAAMC,CAAAA,qBAA+C,CAAG,QAAlDA,CAAAA,qBAAkD,MAAU,+CAExCR,QAAQ,EAFgC,wCAEzDS,IAFyD,eAEnDC,OAFmD,8BAGxCV,QAAQ,CAAU,KAAV,CAHgC,yCAGzDW,IAHyD,eAGnDC,OAHmD,8BAIhCZ,QAAQ,CAAY,EAAZ,CAJwB,yCAIzDa,QAJyD,eAI/CC,WAJ+C,8BAKlCd,QAAQ,CAAS,KAAT,CAL0B,yCAKzDe,OALyD,eAKhDC,UALgD,eAOhET,mBAAmB,CAAC,UAAM,CACxBU,cAAc,CAACF,OAAD,CAAd,CACD,CAFkB,CAAnB,CAKA,GAAMG,CAAAA,OAAO,CAAG,iCAAhB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAiB,CAClCA,IAAI,EAAI,GAAR,CACA,GAAIA,IAAI,CAAG,EAAX,CAAc,CACV,MAAO,WAAP,CACH,CAFD,IAEO,IAAIA,IAAI,CAAG,EAAX,CAAc,CACjB,MAAO,SAAP,CACH,CAFM,IAEA,IAAIA,IAAI,CAAG,EAAX,CAAc,CACjB,MAAO,SAAP,CACH,CAFM,IAEA,CACH,MAAO,QAAP,CACH,CACF,CAXD,CAaA,GAAMH,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACF,OAAD,CAAoB,CACzCH,OAAO,CAAC,IAAD,CAAP,CACAX,KAAK,CAACoB,GAAN,CAAUH,OAAO,CAAGH,OAAV,CAAoB,GAApB,CAA0B,GAApC,EAAyCO,IAAzC,CAA8C,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAT,EAAlD,EACKF,IADL,CACU,SAACE,IAAD,CAAU,CACZV,WAAW,CAACU,IAAD,CAAX,CACH,CAHL,EAIIZ,OAAO,CAAC,KAAD,CAAP,CAEL,CARD,CAUA,mBACE,4CACI,oBAAC,cAAD,sGADJ,cAEI,oBAAC,YAAD,EAAc,WAAW,CAAC,oBAA1B,CAAgC,WAAW,CAAE,qBAAAa,CAAC,QAAIR,CAAAA,cAAc,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAA9C,EAFJ,CAIKd,QAAQ,CAACe,GAAT,CAAa,SAACC,OAAD,CAAUC,CAAV,qBACV,oBAAC,OAAD,mBACI,oBAAC,QAAD,EAAU,SAAS,CAAC,eAApB,eACI,oBAAC,OAAD,EAAS,KAAK,CAAEX,UAAU,CAACU,OAAO,CAACT,IAAT,CAA1B,eACA,8BAAKS,OAAO,CAACpB,IAAb,CADA,CADJ,cAII,oDAASoB,OAAO,CAACE,SAAjB,OAA+BF,OAAO,CAACG,QAAvC,CAJJ,cAKI,8CAAQH,OAAO,CAACI,aAAhB,mBAAgC,yBAAG,MAAM,CAAC,QAAV,CAAmB,IAAI,CAAEJ,OAAO,CAACK,WAAjC,EAA+CL,OAAO,CAACK,WAAvD,CAAhC,KALJ,CADJ,cASI,oBAAC,OAAD,EAAS,IAAI,CAAC,OAAd,CAAsB,KAAK,CAAEf,UAAU,CAACU,OAAO,CAACT,IAAT,CAAvC,eAAuD,8BAAKe,IAAI,CAACC,KAAL,CAAWP,OAAO,CAACT,IAAR,CAAa,GAAxB,CAAL,KAAvD,CATJ,CADU,EAAb,CAJL,CADF,CAoBD,CAzDD,CA2DA,cAAeZ,CAAAA,qBAAf","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nimport { IonGrid, IonCol, IonRow, IonCard, IonList, IonCardTitle, IonTextarea, IonItem, IonLabel, IonButton, IonCardHeader, IonCardSubtitle, IonContent, IonListHeader, IonItemDivider, IonText, IonNote, IonSearchbar, useIonViewWillEnter } from '@ionic/react';\n\ninterface ContainerProps {\n\n}\n\ninterface Comment {\n    article_title: string;\n    article_url: string;\n    text: string;\n    prob: number;\n    commenter: string;\n    datetime: string;\n}\n\n\nconst HateCommentsContainer: React.FC<ContainerProps> = ({  }) => {\n\n  const [text, setText] = useState<string>();\n  const [busy, setBusy] = useState<boolean>(false);\n  const [comments, setComments] = useState<Comment[]>([]);\n  const [keyword, setKeyword] = useState<string>(\"이효리\");\n\n  useIonViewWillEnter(() => {\n    updateComments(keyword); \n  })\n\n\n  const API_URL = 'http://akpl.ilkyu.kr:8080/find/';\n\n  const getBgColor = (prob:number) => {\n    prob *= 100\n    if (prob < 50){\n        return \"secondary\"\n    } else if (prob < 60){\n        return \"success\"\n    } else if (prob < 70){\n        return \"warning\"\n    } else {\n        return \"danger\"\n    }\n  }\n\n  const updateComments = (keyword:string) => {\n    setBusy(true);\n    axios.get(API_URL + keyword + \"/\" + 100).then(resp => resp.data)\n        .then((data) => {\n            setComments(data)\n        })\n        setBusy(false)\n\n  }\n\n  return (\n    <div>\n        <IonItemDivider>아래에 검색할 키워드를 입력하세요</IonItemDivider>\n        <IonSearchbar placeholder=\"이효리\" onIonChange={e => updateComments(e.detail.value!)}></IonSearchbar>\n\n        {comments.map((comment, i) => (\n            <IonItem>\n                <IonLabel className=\"ion-text-wrap\">\n                    <IonText color={getBgColor(comment.prob)}>\n                    <h1>{comment.text}</h1>\n                    </IonText>\n                    <p>작성자: {comment.commenter} | {comment.datetime}</p>\n                    <p>원글: {comment.article_title} (<a target=\"_blank\" href={comment.article_url}>{comment.article_url}</a>)</p>\n\n                </IonLabel>\n                <IonText slot=\"start\" color={getBgColor(comment.prob)}><h1>{Math.floor(comment.prob*100)}%</h1></IonText>\n            </IonItem>\n        ))}\n    </div>\n  );\n};\n\nexport default HateCommentsContainer;\n"]},"metadata":{},"sourceType":"module"}